{
  "version": 3,
  "sections": [
    {"offset": {"line": 5, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/src/components/ui/button.tsx"],"sourcesContent":["\"use client\"\n\nimport { forwardRef } from 'react'\nimport type { ButtonHTMLAttributes } from 'react'\nimport { Slot } from '@radix-ui/react-slot'\nimport { cn } from '@/lib/cn'\n\ntype ButtonVariant = 'primary' | 'secondary' | 'ghost' | 'outline' | 'destructive'\ntype ButtonSize = 'sm' | 'md' | 'lg' | 'icon'\n\ninterface ButtonProps extends ButtonHTMLAttributes<HTMLButtonElement> {\n  variant?: ButtonVariant\n  size?: ButtonSize\n  loading?: boolean\n  asChild?: boolean\n}\n\nconst baseStyles =\n  'inline-flex items-center justify-center gap-2 rounded-xl font-semibold transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-emerald-500 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50'\n\nconst variantStyles: Record<ButtonVariant, string> = {\n  primary: 'bg-emerald-500 text-white hover:bg-emerald-600 active:bg-emerald-700 shadow-sm shadow-emerald-500/20',\n  secondary: 'bg-slate-100 text-slate-900 hover:bg-slate-200 active:bg-slate-300',\n  outline: 'border-2 border-slate-300 bg-transparent text-slate-700 hover:bg-slate-50 active:bg-slate-100',\n  ghost: 'bg-transparent text-slate-700 hover:bg-slate-100 active:bg-slate-200',\n  destructive: 'bg-red-500 text-white hover:bg-red-600 active:bg-red-700 shadow-sm shadow-red-500/20'\n}\n\nconst sizeStyles: Record<ButtonSize, string> = {\n  sm: 'h-9 px-4 text-sm',\n  md: 'h-10 px-5 text-sm',\n  lg: 'h-12 px-6 text-base',\n  icon: 'h-10 w-10'\n}\n\nexport const Button = forwardRef<HTMLButtonElement, ButtonProps>(function Button(\n  { className, variant = 'primary', size = 'md', loading = false, asChild = false, children, disabled, ...props },\n  ref\n) {\n  const Comp = asChild ? Slot : 'button'\n\n  return (\n    <Comp\n      ref={ref}\n      className={cn(baseStyles, variantStyles[variant], sizeStyles[size], className)}\n      disabled={disabled || loading}\n      {...props}\n    >\n      {loading ? (\n        <>\n          <span className=\"h-4 w-4 animate-spin rounded-full border-2 border-current border-t-transparent\" />\n          <span>{children}</span>\n        </>\n      ) : (\n        children\n      )}\n    </Comp>\n  )\n})\n\n"],"names":[],"mappings":";;;;;;;;AAAA;;;;;AAiBA,MAAM,aACJ;AAEF,MAAM,gBAA+C;IACnD,SAAS;IACT,WAAW;IACX,SAAS;IACT,OAAO;IACP,aAAa;AACf;AAEA,MAAM,aAAyC;IAC7C,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,MAAM;AACR;AAEO,MAAM,uBAAS,8NAA2C,SAAS,OACxE,EAAE,SAAS,EAAE,UAAU,SAAS,EAAE,OAAO,IAAI,EAAE,UAAU,KAAK,EAAE,UAAU,KAAK,EAAE,QAAQ,EAAE,QAAQ,EAAE,GAAG,OAAO,EAC/G,GAAG;IAEH,MAAM,OAAO,qLAAiB;IAE9B,qBACE,mPAAC;QACC,KAAK;QACL,WAAW,uHAAG,YAAY,aAAa,CAAC,QAAQ,EAAE,UAAU,CAAC,KAAK,EAAE;QACpE,UAAU,YAAY;QACrB,GAAG,KAAK;kBAER,wBACC;;8BACE,mPAAC;oBAAK,WAAU;;;;;;8BAChB,mPAAC;8BAAM;;;;;;;2BAGT;;;;;;AAIR"}},
    {"offset": {"line": 63, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 68, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/src/components/ui/input.tsx"],"sourcesContent":["\"use client\"\n\nimport { forwardRef } from 'react'\nimport type { InputHTMLAttributes } from 'react'\nimport { cn } from '@/lib/cn'\n\nexport interface InputProps extends InputHTMLAttributes<HTMLInputElement> {\n  error?: boolean\n  fullWidth?: boolean\n}\n\nexport const Input = forwardRef<HTMLInputElement, InputProps>(function Input(\n  { className, error, fullWidth = true, type = 'text', ...props },\n  ref\n) {\n  return (\n    <input\n      ref={ref}\n      type={type}\n      className={cn(\n        'flex h-10 rounded-xl border border-slate-300 bg-white px-4 py-2 text-sm text-slate-900',\n        'placeholder:text-slate-400',\n        'transition-colors',\n        'focus:border-brand-500 focus:outline-none focus:ring-2 focus:ring-brand-500/20',\n        'disabled:cursor-not-allowed disabled:opacity-50',\n        error && 'border-red-500 focus:border-red-500 focus:ring-red-500/20',\n        fullWidth && 'w-full',\n        className\n      )}\n      {...props}\n    />\n  )\n})\n\n"],"names":[],"mappings":";;;;;;;AAAA;;;;AAWO,MAAM,sBAAQ,8NAAyC,SAAS,MACrE,EAAE,SAAS,EAAE,KAAK,EAAE,YAAY,IAAI,EAAE,OAAO,MAAM,EAAE,GAAG,OAAO,EAC/D,GAAG;IAEH,qBACE,mPAAC;QACC,KAAK;QACL,MAAM;QACN,WAAW,uHACT,0FACA,8BACA,qBACA,kFACA,mDACA,SAAS,6DACT,aAAa,UACb;QAED,GAAG,KAAK;;;;;;AAGf"}},
    {"offset": {"line": 91, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 96, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/src/components/ui/textarea.tsx"],"sourcesContent":["\"use client\"\n\nimport { forwardRef } from 'react'\nimport type { TextareaHTMLAttributes } from 'react'\nimport { cn } from '@/lib/cn'\n\nexport interface TextareaProps extends TextareaHTMLAttributes<HTMLTextAreaElement> {\n  error?: boolean\n  fullWidth?: boolean\n}\n\nexport const Textarea = forwardRef<HTMLTextAreaElement, TextareaProps>(function Textarea(\n  { className, error, fullWidth = true, ...props },\n  ref\n) {\n  return (\n    <textarea\n      ref={ref}\n      className={cn(\n        'flex min-h-[80px] rounded-xl border border-slate-300 bg-white px-4 py-3 text-sm text-slate-900',\n        'placeholder:text-slate-400',\n        'transition-colors',\n        'focus:border-brand-500 focus:outline-none focus:ring-2 focus:ring-brand-500/20',\n        'disabled:cursor-not-allowed disabled:opacity-50',\n        'resize-y',\n        error && 'border-red-500 focus:border-red-500 focus:ring-red-500/20',\n        fullWidth && 'w-full',\n        className\n      )}\n      {...props}\n    />\n  )\n})\n\n"],"names":[],"mappings":";;;;;;;AAAA;;;;AAWO,MAAM,yBAAW,8NAA+C,SAAS,SAC9E,EAAE,SAAS,EAAE,KAAK,EAAE,YAAY,IAAI,EAAE,GAAG,OAAO,EAChD,GAAG;IAEH,qBACE,mPAAC;QACC,KAAK;QACL,WAAW,uHACT,kGACA,8BACA,qBACA,kFACA,mDACA,YACA,SAAS,6DACT,aAAa,UACb;QAED,GAAG,KAAK;;;;;;AAGf"}},
    {"offset": {"line": 118, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 123, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/src/components/ui/custom-select.tsx"],"sourcesContent":["\"use client\"\n\nimport { useState, useRef, useEffect } from 'react'\nimport { ChevronDown, Check } from 'lucide-react'\nimport { cn } from '@/lib/cn'\n\ninterface CustomSelectProps {\n  options: { value: string; label: string }[]\n  value: string\n  onChange: (value: string) => void\n  placeholder?: string\n  className?: string\n}\n\nexport function CustomSelect({ options, value, onChange, placeholder = 'Seleccionar...', className }: CustomSelectProps) {\n  const [isOpen, setIsOpen] = useState(false)\n  const containerRef = useRef<HTMLDivElement>(null)\n\n  useEffect(() => {\n    const handleClickOutside = (event: MouseEvent) => {\n      if (containerRef.current && !containerRef.current.contains(event.target as Node)) {\n        setIsOpen(false)\n      }\n    }\n\n    document.addEventListener('mousedown', handleClickOutside)\n    return () => document.removeEventListener('mousedown', handleClickOutside)\n  }, [])\n\n  const selectedOption = options.find(opt => opt.value === value)\n\n  const handleSelect = (optionValue: string) => {\n    onChange(optionValue)\n    setIsOpen(false)\n  }\n\n  return (\n    <div ref={containerRef} className={cn('relative w-full', className)}>\n      <button\n        type=\"button\"\n        onClick={() => setIsOpen(!isOpen)}\n        className={cn(\n          'flex h-10 w-full items-center justify-between rounded-xl border border-slate-300 bg-white px-4 py-2 text-sm text-slate-900',\n          'transition-colors',\n          'focus:border-brand-500 focus:outline-none focus:ring-2 focus:ring-brand-500/20',\n          isOpen && 'border-brand-500 ring-2 ring-brand-500/20',\n          !value && 'text-slate-400'\n        )}\n      >\n        <span>{selectedOption ? selectedOption.label : placeholder}</span>\n        <ChevronDown className={cn(\n          'h-4 w-4 flex-shrink-0 text-slate-400 transition-transform',\n          isOpen && 'rotate-180'\n        )} />\n      </button>\n\n      {isOpen && (\n        <div className=\"absolute z-50 mt-2 w-full rounded-xl border border-slate-200 bg-white shadow-lg\">\n          <div className=\"max-h-60 overflow-y-auto p-1\">\n            {options.map((option) => {\n              const isSelected = value === option.value\n              return (\n                <button\n                  key={option.value}\n                  type=\"button\"\n                  onClick={() => handleSelect(option.value)}\n                  className={cn(\n                    'flex w-full items-center justify-between gap-3 rounded-lg px-3 py-2.5 text-left text-sm transition-colors',\n                    isSelected\n                      ? 'bg-emerald-50 text-emerald-700 font-medium'\n                      : 'text-slate-700 hover:bg-slate-50'\n                  )}\n                >\n                  <span>{option.label}</span>\n                  {isSelected && (\n                    <Check className=\"h-4 w-4 text-emerald-600\" strokeWidth={2.5} />\n                  )}\n                </button>\n              )\n            })}\n          </div>\n        </div>\n      )}\n    </div>\n  )\n}\n\n"],"names":[],"mappings":";;;;;;;;;AAAA;;;;;AAcO,SAAS,aAAa,EAAE,OAAO,EAAE,KAAK,EAAE,QAAQ,EAAE,cAAc,gBAAgB,EAAE,SAAS,EAAqB;IACrH,MAAM,CAAC,QAAQ,UAAU,GAAG,4NAAS;IACrC,MAAM,eAAe,0NAAuB;IAE5C,6NAAU;QACR,MAAM,qBAAqB,CAAC;YAC1B,IAAI,aAAa,OAAO,IAAI,CAAC,aAAa,OAAO,CAAC,QAAQ,CAAC,MAAM,MAAM,GAAW;gBAChF,UAAU;YACZ;QACF;QAEA,SAAS,gBAAgB,CAAC,aAAa;QACvC,OAAO,IAAM,SAAS,mBAAmB,CAAC,aAAa;IACzD,GAAG,EAAE;IAEL,MAAM,iBAAiB,QAAQ,IAAI,CAAC,CAAA,MAAO,IAAI,KAAK,KAAK;IAEzD,MAAM,eAAe,CAAC;QACpB,SAAS;QACT,UAAU;IACZ;IAEA,qBACE,mPAAC;QAAI,KAAK;QAAc,WAAW,uHAAG,mBAAmB;;0BACvD,mPAAC;gBACC,MAAK;gBACL,SAAS,IAAM,UAAU,CAAC;gBAC1B,WAAW,uHACT,8HACA,qBACA,kFACA,UAAU,6CACV,CAAC,SAAS;;kCAGZ,mPAAC;kCAAM,iBAAiB,eAAe,KAAK,GAAG;;;;;;kCAC/C;wBAAa,WAAW,uHACtB,6DACA,UAAU;;;;;;;;;;;;YAIb,wBACC,mPAAC;gBAAI,WAAU;0BACb,cAAA,mPAAC;oBAAI,WAAU;8BACZ,QAAQ,GAAG,CAAC,CAAC;wBACZ,MAAM,aAAa,UAAU,OAAO,KAAK;wBACzC,qBACE,mPAAC;4BAEC,MAAK;4BACL,SAAS,IAAM,aAAa,OAAO,KAAK;4BACxC,WAAW,uHACT,6GACA,aACI,+CACA;;8CAGN,mPAAC;8CAAM,OAAO,KAAK;;;;;;gCAClB,4BACC;oCAAO,WAAU;oCAA2B,aAAa;;;;;;;2BAZtD,OAAO,KAAK;;;;;oBAgBvB;;;;;;;;;;;;;;;;;AAMZ"}},
    {"offset": {"line": 233, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 238, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/src/components/ui/label.tsx"],"sourcesContent":["import { cn } from '@/lib/cn'\n\ninterface LabelProps extends React.LabelHTMLAttributes<HTMLLabelElement> {\n  required?: boolean\n}\n\nexport function Label({ className, required, children, ...props }: LabelProps) {\n  return (\n    <label className={cn('text-sm font-medium text-slate-700', className)} {...props}>\n      {children}\n      {required && <span className=\"ml-1 text-red-500\">*</span>}\n    </label>\n  )\n}\n\n"],"names":[],"mappings":";;;;;;;;AAMO,SAAS,MAAM,EAAE,SAAS,EAAE,QAAQ,EAAE,QAAQ,EAAE,GAAG,OAAmB;IAC3E,qBACE,mPAAC;QAAM,WAAW,uHAAG,sCAAsC;QAAa,GAAG,KAAK;;YAC7E;YACA,0BAAY,mPAAC;gBAAK,WAAU;0BAAoB;;;;;;;;;;;;AAGvD"}},
    {"offset": {"line": 267, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 272, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/src/features/support/services/supportApi.ts"],"sourcesContent":["import type { SupportTicket, NewTicketForm, TicketStatusEnum, TicketSearch } from '../types'\n\n// Función para generar tickets mock\nfunction generateMockTickets(): SupportTicket[] {\n  const tickets: SupportTicket[] = []\n  const categories: Array<'bug' | 'feature' | 'question' | 'technical'> = ['bug', 'feature', 'question', 'technical']\n  const statuses: Array<'open' | 'in-progress' | 'resolved' | 'closed'> = ['open', 'in-progress', 'resolved', 'closed']\n  \n  const titles = [\n    'Error al guardar equipo',\n    'Solicitud de nueva funcionalidad',\n    'Pregunta sobre calibraciones',\n    'Problema técnico con el sistema',\n    'Bug en el formulario de mantenimiento',\n    'Mejora en el dashboard',\n    'Consulta sobre reportes',\n    'Error de conexión a la base de datos'\n  ]\n  \n  const descriptions = [\n    'Al intentar guardar un nuevo equipo, el sistema muestra un error 500. Esto ocurre cuando se intenta subir una imagen.',\n    'Sería útil tener un filtro avanzado en el inventario para buscar por múltiples criterios simultáneamente.',\n    '¿Cómo puedo exportar el historial de calibraciones de un equipo específico?',\n    'El sistema se cuelga cuando hay más de 100 equipos en el inventario. Necesito ayuda para optimizar la carga.',\n    'El campo de fecha en el formulario de mantenimiento no acepta fechas anteriores a 2020.',\n    'Me gustaría poder personalizar las columnas visibles en la tabla de inventario.',\n    '¿Existe alguna forma de generar reportes personalizados con los datos de mantenimiento?',\n    'Ocasionalmente el sistema pierde la conexión con la base de datos y muestra un error genérico.'\n  ]\n  \n  let ticketNumber = 1\n  const currentYear = new Date().getFullYear()\n  \n  for (let i = 0; i < 15; i++) {\n    const category = categories[Math.floor(Math.random() * categories.length)]\n    const status = statuses[Math.floor(Math.random() * statuses.length)]\n    const titleIndex = Math.floor(Math.random() * titles.length)\n    \n    const ticketDate = new Date()\n    ticketDate.setDate(ticketDate.getDate() - Math.floor(Math.random() * 30))\n    \n    const ticket: SupportTicket = {\n      ticket_code: `T-${currentYear}-${String(ticketNumber).padStart(3, '0')}`,\n      title: titles[titleIndex],\n      category: category as any,\n      description: descriptions[titleIndex],\n      ticket_date: ticketDate.toISOString(),\n      status: status as any,\n      created_by: `user-${Math.floor(Math.random() * 5) + 1}`\n    }\n    \n    // Algunos tickets tienen imagen\n    if (Math.random() > 0.5) {\n      ticket.image = `https://picsum.photos/400/300?random=${i}`\n    }\n    \n    tickets.push(ticket)\n    ticketNumber++\n  }\n  \n  return tickets.sort((a, b) => new Date(b.ticket_date).getTime() - new Date(a.ticket_date).getTime())\n}\n\nconst mockTickets: SupportTicket[] = generateMockTickets()\n\nexport const supportApi = {\n  // Obtener todos los tickets\n  async getTickets(search?: TicketSearch): Promise<SupportTicket[]> {\n    await new Promise(resolve => setTimeout(resolve, 300))\n    \n    let filtered = [...mockTickets]\n    \n    if (search) {\n      if (search.status) {\n        filtered = filtered.filter(t => t.status === search.status)\n      }\n      if (search.category) {\n        filtered = filtered.filter(t => t.category === search.category)\n      }\n      if (search.search_text) {\n        const query = search.search_text.toLowerCase()\n        filtered = filtered.filter(t =>\n          t.title.toLowerCase().includes(query) ||\n          t.description.toLowerCase().includes(query) ||\n          t.ticket_code.toLowerCase().includes(query)\n        )\n      }\n      if (search.created_by) {\n        filtered = filtered.filter(t => t.created_by === search.created_by)\n      }\n    }\n    \n    return filtered\n  },\n  \n  // Obtener un ticket por código\n  async getTicket(ticketCode: string): Promise<SupportTicket | null> {\n    await new Promise(resolve => setTimeout(resolve, 200))\n    return mockTickets.find(t => t.ticket_code === ticketCode) || null\n  },\n  \n  // Crear un nuevo ticket\n  async createTicket(formData: NewTicketForm): Promise<SupportTicket> {\n    await new Promise(resolve => setTimeout(resolve, 500))\n    \n    const currentYear = new Date().getFullYear()\n    const ticketNumber = mockTickets.length + 1\n    \n    // Simular subida de imagen\n    let imageUrl: string | undefined\n    if (formData.image) {\n      // En producción, aquí se subiría el archivo al servidor\n      const reader = new FileReader()\n      imageUrl = await new Promise((resolve) => {\n        reader.onloadend = () => resolve(reader.result as string)\n        reader.readAsDataURL(formData.image!)\n      })\n    }\n    \n    const newTicket: SupportTicket = {\n      ticket_code: `T-${currentYear}-${String(ticketNumber).padStart(3, '0')}`,\n      title: formData.title,\n      category: formData.category,\n      description: formData.description,\n      image: imageUrl,\n      ticket_date: new Date().toISOString(),\n      status: TicketStatusEnum.OPEN,\n      created_by: 'current-user' // En producción, obtener del contexto de autenticación\n    }\n    \n    mockTickets.unshift(newTicket)\n    return newTicket\n  },\n  \n  // Cambiar estado de un ticket\n  async changeStatus(ticketCode: string, status: TicketStatusEnum): Promise<SupportTicket> {\n    await new Promise(resolve => setTimeout(resolve, 300))\n    \n    const ticket = mockTickets.find(t => t.ticket_code === ticketCode)\n    if (!ticket) {\n      throw new Error('Ticket no encontrado')\n    }\n    \n    ticket.status = status\n    return ticket\n  },\n  \n  // Eliminar un ticket\n  async deleteTicket(ticketCode: string): Promise<void> {\n    await new Promise(resolve => setTimeout(resolve, 300))\n    \n    const index = mockTickets.findIndex(t => t.ticket_code === ticketCode)\n    if (index === -1) {\n      throw new Error('Ticket no encontrado')\n    }\n    \n    mockTickets.splice(index, 1)\n  },\n  \n  // Validar imagen\n  validateImage(file: File): { valid: boolean; error?: string } {\n    const maxSize = 5 * 1024 * 1024 // 5MB\n    const allowedTypes = ['image/jpeg', 'image/jpg', 'image/png', 'image/gif', 'image/webp']\n    \n    if (!allowedTypes.includes(file.type)) {\n      return { valid: false, error: 'Tipo de archivo no permitido. Solo se permiten imágenes (JPG, PNG, GIF, WEBP)' }\n    }\n    \n    if (file.size > maxSize) {\n      return { valid: false, error: 'El archivo es demasiado grande. El tamaño máximo es 5MB' }\n    }\n    \n    return { valid: true }\n  }\n}\n\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 441, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 446, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/src/features/support/components/new-ticket.tsx"],"sourcesContent":["\"use client\"\n\nimport { useState, useRef } from 'react'\nimport { FileText, Paperclip, X, Upload } from 'lucide-react'\nimport { Button } from '@/components/ui/button'\nimport { Input } from '@/components/ui/input'\nimport { Textarea } from '@/components/ui/textarea'\nimport { CustomSelect } from '@/components/ui/custom-select'\nimport { Label } from '@/components/ui/label'\nimport type { NewTicketForm, TicketCategoryEnum, SupportTicket } from '../types'\nimport { supportApi } from '../services/supportApi'\nimport { cn } from '@/lib/cn'\n\ninterface NewTicketProps {\n  onTicketCreated?: (ticket: SupportTicket) => void\n}\n\nexport function NewTicket({ onTicketCreated }: NewTicketProps) {\n  const fileInputRef = useRef<HTMLInputElement>(null)\n  const [formData, setFormData] = useState<NewTicketForm>({\n    title: '',\n    category: '' as TicketCategoryEnum,\n    description: '',\n    image: undefined\n  })\n  const [imagePreview, setImagePreview] = useState<string | null>(null)\n  const [isSubmitting, setIsSubmitting] = useState(false)\n\n  const categoryOptions = [\n    { value: 'bug', label: 'Error / Bug' },\n    { value: 'feature', label: 'Nueva característica' },\n    { value: 'question', label: 'Pregunta' },\n    { value: 'technical', label: 'Problema técnico' }\n  ]\n\n  const isFormValid = formData.title.trim() !== '' &&\n    formData.category !== '' &&\n    formData.description.trim() !== '' &&\n    !isSubmitting\n\n  const handleImageUpload = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const file = e.target.files?.[0]\n    if (!file) return\n\n    const validation = supportApi.validateImage(file)\n    if (!validation.valid) {\n      alert(validation.error || 'Archivo inválido')\n      if (fileInputRef.current) {\n        fileInputRef.current.value = ''\n      }\n      return\n    }\n\n    setFormData(prev => ({ ...prev, image: file }))\n\n    const reader = new FileReader()\n    reader.onload = (e) => {\n      setImagePreview(e.target?.result as string)\n    }\n    reader.readAsDataURL(file)\n\n    if (fileInputRef.current) {\n      fileInputRef.current.value = ''\n    }\n  }\n\n  const removeImage = () => {\n    setFormData(prev => ({ ...prev, image: undefined }))\n    setImagePreview(null)\n  }\n\n  const clearForm = () => {\n    setFormData({\n      title: '',\n      category: '' as TicketCategoryEnum,\n      description: '',\n      image: undefined\n    })\n    setImagePreview(null)\n  }\n\n  const submitTicket = async () => {\n    if (!isFormValid || isSubmitting) return\n\n    setIsSubmitting(true)\n\n    try {\n      const newTicket = await supportApi.createTicket(formData)\n      onTicketCreated?.(newTicket)\n      clearForm()\n      alert('¡Ticket creado exitosamente!')\n    } catch (error: any) {\n      console.error('Error creando ticket:', error)\n      const message = error?.response?.data?.detail || 'Error al crear el ticket'\n      alert(message)\n    } finally {\n      setIsSubmitting(false)\n    }\n  }\n\n  return (\n    <div className=\"bg-white shadow rounded-lg\">\n      <div className=\"px-6 py-4 border-b border-slate-200\">\n        <div className=\"flex items-center\">\n          <FileText className=\"w-5 h-5 mr-2 text-blue-600\" />\n          <h2 className=\"text-lg font-semibold text-slate-900\">Nuevo Ticket</h2>\n        </div>\n        <p className=\"mt-1 text-sm text-slate-600\">\n          Crea un ticket de soporte para reportar problemas o solicitar ayuda\n        </p>\n      </div>\n\n      <div className=\"p-6 space-y-4\">\n        {/* Título */}\n        <div className=\"space-y-2\">\n          <Label className=\"text-sm font-medium text-slate-700\">\n            Título del ticket <span className=\"text-red-500\">*</span>\n          </Label>\n          <Input\n            value={formData.title}\n            onChange={(e) => setFormData(prev => ({ ...prev, title: e.target.value }))}\n            placeholder=\"Describe brevemente el problema...\"\n            maxLength={100}\n          />\n          <p className=\"text-xs text-slate-500\">{formData.title.length}/100</p>\n        </div>\n\n        {/* Categoría */}\n        <div className=\"space-y-2\">\n          <Label className=\"text-sm font-medium text-slate-700\">\n            Categoría <span className=\"text-red-500\">*</span>\n          </Label>\n          <CustomSelect\n            options={categoryOptions}\n            value={formData.category}\n            onChange={(value) => setFormData(prev => ({ ...prev, category: value as TicketCategoryEnum }))}\n            placeholder=\"Selecciona una categoría\"\n          />\n        </div>\n\n        {/* Descripción */}\n        <div className=\"space-y-2\">\n          <Label className=\"text-sm font-medium text-slate-700\">\n            Descripción <span className=\"text-red-500\">*</span>\n          </Label>\n          <Textarea\n            value={formData.description}\n            onChange={(e) => setFormData(prev => ({ ...prev, description: e.target.value }))}\n            placeholder=\"Describe detalladamente el problema, pasos para reproducirlo, comportamiento esperado, etc...\"\n            rows={4}\n            maxLength={500}\n          />\n          <p className=\"text-xs text-slate-500\">{formData.description.length}/500</p>\n        </div>\n\n        {/* Imagen adjunta */}\n        <div>\n          <Label className=\"block text-sm font-medium text-slate-700 mb-1\">\n            Imagen adjunta (opcional)\n          </Label>\n          <div className=\"mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-slate-300 border-dashed rounded-md\">\n            <div className=\"space-y-1 text-center\">\n              <button\n                type=\"button\"\n                onClick={() => fileInputRef.current?.click()}\n                className=\"inline-flex items-center px-3 py-2 text-sm font-medium text-slate-600 hover:text-slate-800\"\n              >\n                <Paperclip className=\"w-4 h-4 mr-2\" />\n                Seleccionar imagen\n              </button>\n              <input\n                ref={fileInputRef}\n                type=\"file\"\n                accept=\"image/*\"\n                onChange={handleImageUpload}\n                className=\"hidden\"\n              />\n              <p className=\"text-xs text-slate-500\">\n                PNG, JPG, GIF, WEBP hasta 5MB\n              </p>\n            </div>\n          </div>\n        </div>\n\n        {/* Imagen seleccionada */}\n        {(formData.image || imagePreview) && (\n          <div className=\"space-y-2\">\n            <h4 className=\"text-sm font-medium text-slate-700\">Imagen seleccionada:</h4>\n            <div className=\"flex items-center justify-between p-3 bg-slate-50 rounded border\">\n              <div className=\"flex items-center\">\n                {imagePreview && (\n                  <img\n                    src={imagePreview}\n                    alt=\"Preview\"\n                    className=\"w-12 h-12 object-cover rounded mr-3\"\n                  />\n                )}\n                <div>\n                  <span className=\"text-sm text-slate-700\">{formData.image?.name || 'Imagen'}</span>\n                  {formData.image && (\n                    <span className=\"text-xs text-slate-500 block\">\n                      ({(formData.image.size / 1024).toFixed(1)} KB)\n                    </span>\n                  )}\n                </div>\n              </div>\n              <button\n                onClick={removeImage}\n                className=\"text-red-600 hover:text-red-800\"\n              >\n                <X className=\"w-4 h-4\" />\n              </button>\n            </div>\n          </div>\n        )}\n\n        {/* Botones de acción */}\n        <div className=\"flex justify-end space-x-3 pt-4 border-t border-slate-200\">\n          <Button variant=\"outline\" size=\"sm\" onClick={clearForm}>\n            Limpiar\n          </Button>\n          <Button\n            size=\"sm\"\n            disabled={!isFormValid}\n            onClick={submitTicket}\n            loading={isSubmitting}\n          >\n            Crear Ticket\n          </Button>\n        </div>\n      </div>\n    </div>\n  )\n}\n\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 946, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 951, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/src/components/ui/badge.tsx"],"sourcesContent":["import { cn } from '@/lib/cn'\n\ntype BadgeVariant = 'default' | 'success' | 'warning' | 'error' | 'info' | 'secondary'\ntype BadgeSize = 'sm' | 'md' | 'lg'\n\ninterface BadgeProps {\n  variant?: BadgeVariant\n  size?: BadgeSize\n  className?: string\n  children: React.ReactNode\n}\n\nconst variantStyles: Record<BadgeVariant, string> = {\n  default: 'bg-slate-100 text-slate-700 border-slate-200',\n  success: 'bg-green-50 text-green-700 border-green-200',\n  warning: 'bg-amber-50 text-amber-700 border-amber-200',\n  error: 'bg-red-50 text-red-700 border-red-200',\n  info: 'bg-blue-50 text-blue-700 border-blue-200',\n  secondary: 'bg-brand-50 text-brand-700 border-brand-200'\n}\n\nconst sizeStyles: Record<BadgeSize, string> = {\n  sm: 'px-2 py-0.5 text-xs',\n  md: 'px-2.5 py-1 text-sm',\n  lg: 'px-3 py-1.5 text-base'\n}\n\nexport function Badge({ variant = 'default', size = 'md', className, children }: BadgeProps) {\n  return (\n    <span\n      className={cn(\n        'inline-flex items-center justify-center rounded-full border font-medium',\n        variantStyles[variant],\n        sizeStyles[size],\n        className\n      )}\n    >\n      {children}\n    </span>\n  )\n}\n\n"],"names":[],"mappings":";;;;;;;;AAYA,MAAM,gBAA8C;IAClD,SAAS;IACT,SAAS;IACT,SAAS;IACT,OAAO;IACP,MAAM;IACN,WAAW;AACb;AAEA,MAAM,aAAwC;IAC5C,IAAI;IACJ,IAAI;IACJ,IAAI;AACN;AAEO,SAAS,MAAM,EAAE,UAAU,SAAS,EAAE,OAAO,IAAI,EAAE,SAAS,EAAE,QAAQ,EAAc;IACzF,qBACE,mPAAC;QACC,WAAW,uHACT,2EACA,aAAa,CAAC,QAAQ,EACtB,UAAU,CAAC,KAAK,EAChB;kBAGD;;;;;;AAGP"}},
    {"offset": {"line": 982, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 987, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/src/features/support/components/ticket-detail-modal.tsx"],"sourcesContent":["\"use client\"\n\nimport { useState } from 'react'\nimport { X } from 'lucide-react'\nimport { Button } from '@/components/ui/button'\nimport { Badge } from '@/components/ui/badge'\nimport type { SupportTicket } from '../types'\nimport { cn } from '@/lib/cn'\n\ninterface TicketDetailModalProps {\n  ticket: SupportTicket | null\n  onClose: () => void\n}\n\nexport function TicketDetailModal({ ticket, onClose }: TicketDetailModalProps) {\n  const [selectedImage, setSelectedImage] = useState<string | null>(null)\n\n  if (!ticket) return null\n\n  const formatDate = (dateString: string) => {\n    if (!dateString) return 'N/A'\n    const date = new Date(dateString)\n    return date.toLocaleDateString('es-ES', {\n      day: '2-digit',\n      month: '2-digit',\n      year: 'numeric',\n      hour: '2-digit',\n      minute: '2-digit'\n    })\n  }\n\n  const getStatusLabel = (status: string) => {\n    const labels: Record<string, string> = {\n      'open': 'Abierto',\n      'in-progress': 'En Progreso',\n      'resolved': 'Resuelto',\n      'closed': 'Cerrado'\n    }\n    return labels[status] || status\n  }\n\n  const getStatusBadgeClass = (status: string) => {\n    const classes: Record<string, string> = {\n      'open': 'bg-red-100 text-red-800',\n      'in-progress': 'bg-yellow-100 text-yellow-800',\n      'resolved': 'bg-green-100 text-green-800',\n      'closed': 'bg-slate-100 text-slate-800'\n    }\n    return classes[status] || 'bg-slate-100 text-slate-800'\n  }\n\n  const getCategoryLabel = (category: string) => {\n    const labels: Record<string, string> = {\n      'bug': 'Error / Bug',\n      'feature': 'Nueva característica',\n      'question': 'Pregunta',\n      'technical': 'Problema técnico'\n    }\n    return labels[category] || category\n  }\n\n  const getImageSrc = (src?: string) => {\n    if (!src) return ''\n    if (src.startsWith('data:') || src.startsWith('http')) return src\n    return src\n  }\n\n  return (\n    <>\n      <div\n        className=\"fixed inset-0 z-[9999] flex items-end sm:items-center justify-center p-2 sm:p-4 bg-black/40 top-16\"\n        onClick={onClose}\n      >\n        <div\n          className=\"relative bg-white w-full max-w-4xl rounded-t-2xl sm:rounded-2xl shadow-2xl h-[85vh] sm:h-auto sm:max-h-[90vh] overflow-y-auto overflow-x-hidden\"\n          onClick={(e) => e.stopPropagation()}\n        >\n          {/* Header */}\n          <div className=\"sticky top-0 z-10 bg-white border-b border-slate-200 px-6 py-4 rounded-t-2xl flex items-center justify-between\">\n            <h3 className=\"text-xl font-semibold text-slate-900\">{ticket.title}</h3>\n            <button\n              onClick={onClose}\n              className=\"text-slate-400 hover:text-slate-600\"\n            >\n              <X className=\"w-5 h-5\" />\n            </button>\n          </div>\n\n          {/* Content */}\n          <div className=\"p-6\">\n            <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\n              {/* Columna izquierda: información + descripción */}\n              <div className=\"md:col-span-2 space-y-6\">\n                {/* Información del ticket */}\n                <div className=\"grid grid-cols-2 gap-4 bg-slate-50 rounded-xl p-4\">\n                  <div>\n                    <p className=\"text-sm text-slate-500\">Código del Ticket</p>\n                    <p className=\"text-base font-medium text-slate-900\">{ticket.ticket_code}</p>\n                  </div>\n                  <div>\n                    <p className=\"text-sm text-slate-500\">Estado</p>\n                    <Badge className={cn(\"text-xs font-medium px-2 py-1 rounded-full\", getStatusBadgeClass(ticket.status))}>\n                      {getStatusLabel(ticket.status)}\n                    </Badge>\n                  </div>\n                  <div>\n                    <p className=\"text-sm text-slate-500\">Categoría</p>\n                    <p className=\"text-base font-medium text-slate-900\">{getCategoryLabel(ticket.category)}</p>\n                  </div>\n                  <div>\n                    <p className=\"text-sm text-slate-500\">Fecha de Creación</p>\n                    <p className=\"text-base font-medium text-slate-900\">{formatDate(ticket.ticket_date)}</p>\n                  </div>\n                </div>\n\n                {/* Descripción */}\n                <div className=\"bg-slate-50 rounded-xl p-4\">\n                  <h5 className=\"text-sm font-medium text-slate-700 mb-3\">Descripción</h5>\n                  <div className=\"bg-white border border-slate-200 rounded-lg p-3\">\n                    <p className=\"text-sm text-slate-800 whitespace-pre-wrap\">{ticket.description}</p>\n                  </div>\n                </div>\n              </div>\n\n              {/* Columna derecha: imagen */}\n              <div className=\"space-y-4\">\n                <div className=\"bg-slate-50 rounded-xl p-4 h-full\">\n                  <h5 className=\"text-sm font-medium text-slate-700 mb-3\">Imagen</h5>\n                  {ticket.image ? (\n                    <div\n                      className=\"cursor-pointer group\"\n                      onClick={() => setSelectedImage(getImageSrc(ticket.image))}\n                    >\n                      <img\n                        src={getImageSrc(ticket.image)}\n                        alt=\"Imagen del ticket\"\n                        className=\"w-full h-56 object-cover rounded-lg border border-slate-200 group-hover:border-blue-300 transition-colors\"\n                      />\n                      <p className=\"mt-2 text-xs text-slate-500\">Click para ver en grande</p>\n                    </div>\n                  ) : (\n                    <div className=\"w-full h-56 rounded-lg border border-dashed border-slate-200 flex items-center justify-center text-xs text-slate-400\">\n                      Sin imagen adjunta\n                    </div>\n                  )}\n                </div>\n              </div>\n            </div>\n          </div>\n\n          {/* Footer */}\n          <div className=\"sticky bottom-0 bg-white border-t border-slate-200 px-4 sm:px-6 py-3 sm:py-4 rounded-b-2xl\">\n            <div className=\"flex flex-col sm:flex-row justify-between items-stretch sm:items-center gap-3\">\n              <div className=\"flex justify-center sm:justify-start\">\n                {/* Espacio para futuras acciones */}\n              </div>\n              <div className=\"flex gap-2 justify-center sm:justify-end\">\n                <Button variant=\"outline\" onClick={onClose}>\n                  Cerrar\n                </Button>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* Modal para ver imagen completa */}\n      {selectedImage && (\n        <div\n          className=\"fixed inset-0 z-[10000] flex items-center justify-center p-4 bg-black/75 top-0\"\n          onClick={() => setSelectedImage(null)}\n        >\n          <div className=\"max-w-4xl max-h-full flex items-center justify-center\">\n            <img\n              src={selectedImage}\n              alt=\"Imagen ampliada\"\n              className=\"max-w-full max-h-full object-contain\"\n            />\n          </div>\n        </div>\n      )}\n    </>\n  )\n}\n\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1388, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1393, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/src/features/support/components/actual-tickets.tsx"],"sourcesContent":["\"use client\"\n\nimport { useState, useMemo } from 'react'\nimport { List, ChevronRight, X, Trash2 } from 'lucide-react'\nimport { Button } from '@/components/ui/button'\nimport { Input } from '@/components/ui/input'\nimport { CustomSelect } from '@/components/ui/custom-select'\nimport { Badge } from '@/components/ui/badge'\nimport type { SupportTicket, TicketFilters, TicketStatusEnum, TicketCategoryEnum } from '../types'\nimport { TicketDetailModal } from './ticket-detail-modal'\nimport { cn } from '@/lib/cn'\n\ninterface ActualTicketsProps {\n  tickets: SupportTicket[]\n  onTicketStatusChanged?: (ticketCode: string, newStatus: string) => void\n  onTicketDeleted?: (ticketCode: string) => void\n  onTicketsUpdated?: () => void\n  canManageSupportTickets?: boolean\n}\n\nexport function ActualTickets({\n  tickets,\n  onTicketStatusChanged,\n  onTicketDeleted,\n  onTicketsUpdated,\n  canManageSupportTickets = false\n}: ActualTicketsProps) {\n  const [selectedTicket, setSelectedTicket] = useState<SupportTicket | null>(null)\n  const [isLoading, setIsLoading] = useState(false)\n  const [showConfirm, setShowConfirm] = useState(false)\n  const [pendingDeleteCode, setPendingDeleteCode] = useState<string | null>(null)\n  const [filters, setFilters] = useState<TicketFilters>({\n    status: 'all',\n    category: 'all',\n    search: ''\n  })\n\n  const statusOptions = [\n    { value: 'all', label: 'Estados' },\n    { value: 'open', label: 'Abiertos' },\n    { value: 'in-progress', label: 'En progreso' },\n    { value: 'resolved', label: 'Resueltos' },\n    { value: 'closed', label: 'Cerrados' }\n  ]\n\n  const categoryOptions = [\n    { value: 'all', label: 'Categorías' },\n    { value: 'bug', label: 'Error / Bug' },\n    { value: 'feature', label: 'Nueva característica' },\n    { value: 'question', label: 'Pregunta' },\n    { value: 'technical', label: 'Problema técnico' }\n  ]\n\n  const statusOptionsForAdmin = [\n    { value: 'open', label: 'Abierto' },\n    { value: 'in-progress', label: 'En Progreso' },\n    { value: 'resolved', label: 'Resuelto' },\n    { value: 'closed', label: 'Cerrado' }\n  ]\n\n  const filteredTickets = useMemo(() => {\n    return tickets.filter(ticket => {\n      const matchesStatus = filters.status === 'all' || ticket.status === filters.status\n      const matchesCategory = filters.category === 'all' || ticket.category === filters.category\n      const matchesSearch = filters.search === '' ||\n        ticket.title.toLowerCase().includes(filters.search.toLowerCase()) ||\n        ticket.description.toLowerCase().includes(filters.search.toLowerCase()) ||\n        ticket.ticket_code.toLowerCase().includes(filters.search.toLowerCase())\n\n      return matchesStatus && matchesCategory && matchesSearch\n    })\n  }, [tickets, filters])\n\n  const formatDate = (dateString: string): string => {\n    return new Date(dateString).toLocaleDateString('es-ES', {\n      year: 'numeric',\n      month: 'short',\n      day: 'numeric'\n    })\n  }\n\n  const getStatusLabel = (status: string): string => {\n    const labels: Record<string, string> = {\n      open: 'Abierto',\n      'in-progress': 'En progreso',\n      resolved: 'Resuelto',\n      closed: 'Cerrado'\n    }\n    return labels[status] || status\n  }\n\n  const getStatusBadgeClass = (status: string): string => {\n    const classes: Record<string, string> = {\n      open: 'bg-red-100 text-red-800',\n      'in-progress': 'bg-yellow-100 text-yellow-800',\n      resolved: 'bg-green-100 text-green-800',\n      closed: 'bg-slate-100 text-slate-800'\n    }\n    return classes[status] || 'bg-slate-100 text-slate-800'\n  }\n\n  const getCategoryLabel = (category: string): string => {\n    const labels: Record<string, string> = {\n      bug: 'Error / Bug',\n      feature: 'Nueva característica',\n      question: 'Pregunta',\n      technical: 'Problema técnico'\n    }\n    return labels[category] || category\n  }\n\n  const selectTicket = (ticket: SupportTicket) => {\n    setSelectedTicket(ticket)\n  }\n\n  const changeTicketStatus = async (ticketCode: string, newStatus: string) => {\n    try {\n      setIsLoading(true)\n      onTicketStatusChanged?.(ticketCode, newStatus)\n      onTicketsUpdated?.()\n    } catch (error: any) {\n      console.error('Error cambiando estado:', error)\n      alert(error?.response?.data?.detail || 'Error al cambiar el estado')\n    } finally {\n      setIsLoading(false)\n    }\n  }\n\n  const deleteTicket = (ticketCode: string) => {\n    setPendingDeleteCode(ticketCode)\n    setShowConfirm(true)\n  }\n\n  const confirmDelete = async () => {\n    if (!pendingDeleteCode) return\n    try {\n      setIsLoading(true)\n      onTicketDeleted?.(pendingDeleteCode)\n      onTicketsUpdated?.()\n\n      if (selectedTicket?.ticket_code === pendingDeleteCode) {\n        setSelectedTicket(null)\n      }\n    } catch (error: any) {\n      console.error('Error eliminando ticket:', error)\n      alert(error?.response?.data?.detail || 'Error al eliminar el ticket')\n    } finally {\n      setIsLoading(false)\n      setShowConfirm(false)\n      setPendingDeleteCode(null)\n    }\n  }\n\n  return (\n    <>\n      <div className=\"bg-white shadow rounded-lg\">\n        <div className=\"px-6 py-4 border-b border-slate-200\">\n          <div className=\"flex items-center justify-between\">\n            <div className=\"flex items-center\">\n              <List className=\"w-5 h-5 mr-2 text-blue-600\" />\n              <h2 className=\"text-lg font-semibold text-slate-900\">Tickets Actuales</h2>\n            </div>\n\n            {/* Filtros */}\n            <div className=\"flex items-center space-x-3\">\n              <div className=\"w-48\">\n                <Input\n                  value={filters.search}\n                  onChange={(e) => setFilters(prev => ({ ...prev, search: e.target.value }))}\n                  placeholder=\"Buscar tickets...\"\n                />\n              </div>\n              <div className=\"w-40\">\n                <CustomSelect\n                  options={statusOptions}\n                  value={filters.status}\n                  onChange={(value) => setFilters(prev => ({ ...prev, status: value as TicketStatusEnum | 'all' }))}\n                  placeholder=\"Estado\"\n                />\n              </div>\n              <div className=\"w-44\">\n                <CustomSelect\n                  options={categoryOptions}\n                  value={filters.category}\n                  onChange={(value) => setFilters(prev => ({ ...prev, category: value as TicketCategoryEnum | 'all' }))}\n                  placeholder=\"Categoría\"\n                />\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <div className=\"p-6\">\n          {/* Estado sin tickets */}\n          {filteredTickets.length === 0 && (\n            <div className=\"text-center py-8\">\n              <div className=\"flex flex-col items-center space-y-2\">\n                <List className=\"w-12 h-12 text-slate-300\" />\n                <div className=\"text-center\">\n                  <p className=\"text-slate-500 text-sm font-medium\">\n                    {tickets.length === 0 ? 'No hay tickets en el sistema' : 'No se encontraron tickets con los filtros seleccionados'}\n                  </p>\n                </div>\n              </div>\n            </div>\n          )}\n\n          {/* Lista de tickets */}\n          {filteredTickets.length > 0 && (\n            <div className=\"space-y-4\">\n              {filteredTickets.map((ticket) => (\n                <div\n                  key={ticket.ticket_code}\n                  className=\"border border-slate-200 rounded-lg p-4 hover:shadow-md transition-shadow cursor-pointer\"\n                  onClick={() => selectTicket(ticket)}\n                >\n                  <div className=\"flex items-start justify-between\">\n                    <div className=\"flex-1\">\n                      <div className=\"flex items-center gap-2 mb-2\">\n                        <h3 className=\"font-medium text-slate-900\">{ticket.title}</h3>\n                        <Badge className={cn(\"text-xs font-medium px-2 py-1 rounded-full\", getStatusBadgeClass(ticket.status))}>\n                          {getStatusLabel(ticket.status)}\n                        </Badge>\n                        <Badge variant=\"secondary\" className=\"text-xs px-2 py-1 rounded-full\">\n                          {getCategoryLabel(ticket.category)}\n                        </Badge>\n                      </div>\n                      {ticket.description && (\n                        <div className=\"bg-slate-50 border border-slate-200 rounded-lg p-3 mb-2\">\n                          <p className=\"text-sm text-slate-700 whitespace-pre-line line-clamp-3\">\n                            {ticket.description}\n                          </p>\n                        </div>\n                      )}\n                      <div className=\"flex items-center gap-4 text-xs text-slate-500\">\n                        <span>Ticket {ticket.ticket_code}</span>\n                        <span>{ticket.ticket_date ? formatDate(ticket.ticket_date) : ''}</span>\n                        {ticket.image && <span>1 imagen adjunta</span>}\n                      </div>\n\n                      {/* Controles de administración */}\n                      {canManageSupportTickets && (\n                        <div\n                          className=\"flex items-center gap-2 mt-3 pt-3 border-t border-slate-200\"\n                          onClick={(e) => e.stopPropagation()}\n                        >\n                          <div className=\"w-40\">\n                            <CustomSelect\n                              options={statusOptionsForAdmin}\n                              value={ticket.status}\n                              onChange={(value) => changeTicketStatus(ticket.ticket_code, value)}\n                            />\n                          </div>\n                          <Button\n                            variant=\"destructive\"\n                            size=\"sm\"\n                            onClick={(e) => {\n                              e.stopPropagation()\n                              deleteTicket(ticket.ticket_code)\n                            }}\n                            disabled={isLoading && pendingDeleteCode === ticket.ticket_code}\n                          >\n                            <Trash2 className=\"w-4 h-4\" />\n                          </Button>\n                        </div>\n                      )}\n                    </div>\n                    <ChevronRight className=\"w-5 h-5 text-slate-400 flex-shrink-0\" />\n                  </div>\n                </div>\n              ))}\n            </div>\n          )}\n        </div>\n      </div>\n\n      {/* Modal de detalle del ticket */}\n      <TicketDetailModal\n        ticket={selectedTicket}\n        onClose={() => setSelectedTicket(null)}\n      />\n\n      {/* Confirmación de eliminación */}\n      {showConfirm && (\n        <div className=\"fixed inset-0 z-[10000] flex items-center justify-center p-4 bg-black/40\">\n          <div className=\"bg-white rounded-2xl shadow-2xl max-w-md w-full p-6\">\n            <h3 className=\"text-lg font-bold text-slate-900 mb-2\">Eliminar ticket</h3>\n            <p className=\"text-sm text-slate-600 mb-6\">\n              ¿Estás seguro de eliminar este ticket? Esta acción no se puede deshacer.\n            </p>\n            <div className=\"flex justify-end gap-3\">\n              <Button variant=\"outline\" onClick={() => setShowConfirm(false)}>\n                Cancelar\n              </Button>\n              <Button variant=\"destructive\" onClick={confirmDelete} disabled={isLoading}>\n                Eliminar\n              </Button>\n            </div>\n          </div>\n        </div>\n      )}\n    </>\n  )\n}\n\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1977, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1982, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/src/app/(app)/support/page.tsx"],"sourcesContent":["\"use client\"\n\nimport { useState, useEffect } from 'react'\nimport { NewTicket } from '@/features/support/components/new-ticket'\nimport { ActualTickets } from '@/features/support/components/actual-tickets'\nimport { supportApi } from '@/features/support/services/supportApi'\nimport type { SupportTicket } from '@/features/support/types'\n\nexport default function SupportPage() {\n  const [tickets, setTickets] = useState<SupportTicket[]>([])\n  const [isLoading, setIsLoading] = useState(false)\n  const [error, setError] = useState<string | null>(null)\n\n  // Función para cargar tickets desde la API\n  const loadTickets = async () => {\n    try {\n      setIsLoading(true)\n      setError(null)\n      const loadedTickets = await supportApi.getTickets()\n      setTickets(loadedTickets)\n    } catch (err: any) {\n      console.error('Error cargando tickets:', err)\n      setError(err?.response?.data?.detail || 'Error al cargar los tickets')\n    } finally {\n      setIsLoading(false)\n    }\n  }\n\n  // Función para manejar la creación de tickets\n  const onTicketCreated = (newTicket: SupportTicket) => {\n    setTickets(prev => [newTicket, ...prev])\n  }\n\n  // Función para manejar el cambio de estado de tickets\n  const onTicketStatusChanged = async (ticketCode: string, newStatus: string) => {\n    try {\n      await supportApi.changeStatus(ticketCode, newStatus as any)\n      setTickets(prev =>\n        prev.map(ticket =>\n          ticket.ticket_code === ticketCode\n            ? { ...ticket, status: newStatus as any }\n            : ticket\n        )\n      )\n    } catch (error: any) {\n      console.error('Error cambiando estado:', error)\n      alert(error?.response?.data?.detail || 'Error al cambiar el estado')\n    }\n  }\n\n  // Función para manejar la eliminación de tickets\n  const onTicketDeleted = async (ticketCode: string) => {\n    try {\n      await supportApi.deleteTicket(ticketCode)\n      setTickets(prev => prev.filter(ticket => ticket.ticket_code !== ticketCode))\n    } catch (error: any) {\n      console.error('Error eliminando ticket:', error)\n      alert(error?.response?.data?.detail || 'Error al eliminar el ticket')\n    }\n  }\n\n  // Cargar tickets al montar el componente\n  useEffect(() => {\n    loadTickets()\n  }, [])\n\n  return (\n    <div className=\"w-full space-y-8 pb-8\">\n      <div className=\"p-6\">\n        <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6\">\n          {/* Componente para crear nuevo ticket */}\n          <div className=\"lg:col-span-1\">\n            <NewTicket onTicketCreated={onTicketCreated} />\n          </div>\n\n          {/* Componente para mostrar tickets existentes */}\n          <div className=\"lg:col-span-2\">\n            {isLoading && (\n              <div className=\"flex items-center justify-center py-8\">\n                <div className=\"text-center space-y-4\">\n                  <div className=\"inline-block h-8 w-8 animate-spin rounded-full border-4 border-solid border-emerald-600 border-r-transparent\"></div>\n                  <p className=\"text-sm text-slate-600\">Cargando tickets...</p>\n                </div>\n              </div>\n            )}\n\n            {error && (\n              <div className=\"bg-red-50 border border-red-200 rounded-lg p-4 mb-4\">\n                <p className=\"text-sm text-red-800\">{error}</p>\n              </div>\n            )}\n\n            {!isLoading && !error && (\n              <ActualTickets\n                tickets={tickets}\n                onTicketStatusChanged={onTicketStatusChanged}\n                onTicketDeleted={onTicketDeleted}\n                onTicketsUpdated={loadTickets}\n                canManageSupportTickets={true} // En producción, obtener del contexto de autenticación\n              />\n            )}\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":";;;;;;;;;AAAA;;;;;;AAQe,SAAS;IACtB,MAAM,CAAC,SAAS,WAAW,GAAG,4NAA0B,EAAE;IAC1D,MAAM,CAAC,WAAW,aAAa,GAAG,4NAAS;IAC3C,MAAM,CAAC,OAAO,SAAS,GAAG,4NAAwB;IAElD,2CAA2C;IAC3C,MAAM,cAAc;QAClB,IAAI;YACF,aAAa;YACb,SAAS;YACT,MAAM,gBAAgB,MAAM,mKAAW,UAAU;YACjD,WAAW;QACb,EAAE,OAAO,KAAU;YACjB,QAAQ,KAAK,CAAC,2BAA2B;YACzC,SAAS,KAAK,UAAU,MAAM,UAAU;QAC1C,SAAU;YACR,aAAa;QACf;IACF;IAEA,8CAA8C;IAC9C,MAAM,kBAAkB,CAAC;QACvB,WAAW,CAAA,OAAQ;gBAAC;mBAAc;aAAK;IACzC;IAEA,sDAAsD;IACtD,MAAM,wBAAwB,OAAO,YAAoB;QACvD,IAAI;YACF,MAAM,mKAAW,YAAY,CAAC,YAAY;YAC1C,WAAW,CAAA,OACT,KAAK,GAAG,CAAC,CAAA,SACP,OAAO,WAAW,KAAK,aACnB;wBAAE,GAAG,MAAM;wBAAE,QAAQ;oBAAiB,IACtC;QAGV,EAAE,OAAO,OAAY;YACnB,QAAQ,KAAK,CAAC,2BAA2B;YACzC,MAAM,OAAO,UAAU,MAAM,UAAU;QACzC;IACF;IAEA,iDAAiD;IACjD,MAAM,kBAAkB,OAAO;QAC7B,IAAI;YACF,MAAM,mKAAW,YAAY,CAAC;YAC9B,WAAW,CAAA,OAAQ,KAAK,MAAM,CAAC,CAAA,SAAU,OAAO,WAAW,KAAK;QAClE,EAAE,OAAO,OAAY;YACnB,QAAQ,KAAK,CAAC,4BAA4B;YAC1C,MAAM,OAAO,UAAU,MAAM,UAAU;QACzC;IACF;IAEA,yCAAyC;IACzC,6NAAU;QACR;IACF,GAAG,EAAE;IAEL,qBACE,mPAAC;QAAI,WAAU;kBACb,cAAA,mPAAC;YAAI,WAAU;sBACb,cAAA,mPAAC;gBAAI,WAAU;;kCAEb,mPAAC;wBAAI,WAAU;kCACb,cAAA;4BAAW,iBAAiB;;;;;;;;;;;kCAI9B,mPAAC;wBAAI,WAAU;;4BACZ,2BACC,mPAAC;gCAAI,WAAU;0CACb,cAAA,mPAAC;oCAAI,WAAU;;sDACb,mPAAC;4CAAI,WAAU;;;;;;sDACf,mPAAC;4CAAE,WAAU;sDAAyB;;;;;;;;;;;;;;;;;4BAK3C,uBACC,mPAAC;gCAAI,WAAU;0CACb,cAAA,mPAAC;oCAAE,WAAU;8CAAwB;;;;;;;;;;;4BAIxC,CAAC,aAAa,CAAC,uBACd;gCACE,SAAS;gCACT,uBAAuB;gCACvB,iBAAiB;gCACjB,kBAAkB;gCAClB,yBAAyB;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAQzC"}},
    {"offset": {"line": 2153, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}